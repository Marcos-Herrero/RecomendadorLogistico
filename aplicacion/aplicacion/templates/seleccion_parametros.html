<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Recomendador Logística AGD</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

	<!---cdn bootrap-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i|Nunito:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet"
    />

    <!-- Template Main CSS File -->
    <link
    rel="stylesheet"
    type="text/css"
    href="{{ url_for('static',filename='styles/style.css') }}"
    />

	<!-- section scripts -->
	<script type="text/javascript">
        function loading(){
			var percent = document.getElementById('cumplimiento').value;
			if (percent > 100 || percent < 1){
				alert("Revise los datos ingresados")
			}else{
				if(percent % 1 != 0){
					alert("Ingrese un valor entero");
				}else{
					document.getElementById('overlay').style.display = 'block';
				}
			}
        }
		function moveOptions(from, to) {
            var selectedOptions = document.getElementById(from).selectedOptions;
            var toList = document.getElementById(to);
            while (selectedOptions.length > 0) {
                toList.appendChild(selectedOptions[0]);
            }
        }

		function selectAllOptions(selectElement) {
            var options = selectElement.options;
            for (var i = 0; i < options.length; i++) {
                options[i].selected = true;
            }
			return true
        }
        window.onload = function() {
            document.getElementById("add").onclick = function() {
                moveOptions('deposito', 'selectedDepositos');
            };

            document.getElementById("remove").onclick = function() {
                moveOptions('selectedDepositos', 'deposito');
            };

            document.getElementById('form').onsubmit = function() {
                selectAllOptions(document.getElementById('selectedDepositos'));
            };
        };
		</script>
	<!-- end section scripts -->

  </head>

  <body>
<!-- region spinner -->
<div id="overlay">
	<div style="position: absolute; z-index: 1; left: 50%; top: 40vh; padding: auto;">
		<div class="sk-folding-cube">
			<div class="sk-cube1 sk-cube"></div>
			<div class="sk-cube2 sk-cube"></div>
			<div class="sk-cube4 sk-cube"></div>
			<div class="sk-cube3 sk-cube"></div>
		  </div>
	</div>
</div>
<!-- end region spinner -->

    <header class="header py-7">
		<div class="row pt-4 pb-2">
		  <div class="col-lg-4 pt-5">
			<div class="container">
			  <div class="header-body text-center ml-2 mb-7">
				<div class="row justify-content-center">
				  <div class="col-md-12">
					<div class="pb-4">
					  <a href="/">
						  <img
							id="img-logo"
							alt="AGD"
							src="/static/images/logo.png"
						  />
						</a>
					</div>
					<br>
					<div class="">
						<a>
							<img
							class="pt-4 img1"
							id="img1"
							alt="logistica"
							src="/static/images/logistica.png"
							/>
						</a>
					</div>
				  </div>
				 
				</div>
			  </div>
			</div>
		  </div>
		  <div class="col-lg-8">
			  
			<div class="">
			<div class="container">
				<div class="card shadow border-0">
				<div class="card-body"> <!--  termina en segunda caja-->
					  
								  
			{% for field, errors in form.errors.items() %}
			  <div class="alert alert-danger">
				  {{ form[field].label }}: {{ ', '.join(errors) }}
			  </div>
			{% endfor %}
  
		  <div class="container pl-4">
			  <h1><b>¡Hola! :) Ingrese los parámetros</b></h1>
			  <!-- <h3><b></b></h3> -->
		  </div>
		  
  
		  <hr/>
		  <!--<form action={{url_for("seleccion_parametros")}} method="post">-->
		  <form action="/confirmar", method="post", onsubmit="selectAllOptions(getElementById('selectedDepositos'))"><!--</form> -->
		  
		  {{ form.csrf_token }}
  
		  
  
		  <div class="container mb-4">
			  <div class="shadow ml-4 mr-4">
				  <div class="row pl-2">
					  <div class="col-md-12 ">
						  <div class="form-group row">
							  <label class="col-form-label col-md-4">{{form.depositos.label()}}</label>
							  <div class="col-md-8 middlen">
								  {{form.depositos()}}<br/>
							  </div>
						  </div>
					  </div>
				  </div>
			  </div>
		  </div>
		  

		  <!-- 			
		  Selector picking
		   -->

			<div class="container mb-4" >
				<div class="shadow ml-4 mr-4">
					<div class="row pl-2">
						<div class="col-md-12 ">
							<div class="container mb-4">
								<!-- Selector dinámico para depósitos con picking -->
								<div  style="float: left; margin-right: 20px;" >  <!-- vertical-align: top style="float: left; margin-right: 20px; display: flex; align-items: start; -->
									<label for="deposito">Depósitos Disponibles:</label>
									<br>
									<select id="deposito" name="depositos_seleccionados" multiple style="width: 120px; height: 100px;">
										{% for deposito in depositos %}
											<option value="{{ deposito }}">{{ deposito }}</option>
										{% endfor %}
									</select>
									<br>
									<div class="row"> <!--style="margin-top: auto;"-->
										<button type="button" id="add" class="btn btn-success"> Agregar </button>
									</div>
								</div>
								<div style="float: left;">
									<label for="selectedDepositos">Depósitos con Picking:</label>
									<br>
									<select id="selectedDepositos" name="depositos_agregados[]" multiple style="width: 120px; height: 100px;">
										<!-- Los depósitos seleccionados aparecerán aquíbtn-block -->
									</select>
									<div class="row" style="margin-top: auto;">
										<button type="button" id="remove" class="btn btn-danger"> Quitar </button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<br>
			<!-- ... end picking... -->

  
		
			<div class="container mb-4">
				<div class="shadow ml-4 mr-4">
					<div class="row pl-2">
						<div class="col-md-12 ">
							<div class="form-group row">
								<label class="col-form-label col-md-4">{{form.cumplimiento.label() }}</label>
								<div class="col-md-8 middlen form-control-sm">
									{{form.cumplimiento()}}<br/>
									<!-- <input type="range" min="0" max="100" id="range_cumplimiento"> -->
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			
							<div class="row">
							<div class="col-md-4 offset-4">
								<button type="submit" class="btn btn-primary btn-block btnconfirm" onclick="loading()"> 
								<!-- {{form.submit()}} -->
								Confirmar
								</button>
							</div>
							</div>
								
							
						</form>
		
						  
						</div>
					  </div>
				  
					</div>
				  </div>
			  
			  </div>
		  </div>
		</div>
	</header>
  </body>
</html>
